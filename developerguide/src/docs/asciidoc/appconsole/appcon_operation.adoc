ifndef::imagesdir[:imagesdir: images]

=== 操作説明

==== Top画面
AppConsoleのTop画面です。 +
Top画面には、Entityの一覧画面が初期表示されます。
また、メニュー部分で表示を切り替えます。

image:appcon_top.png[]

.A.メニュー
`Entity設定` と `その他の設定` のメニューを切り替えます。
`その他の設定` には、メニューの編集機能があります。メニューについては、Menu編集画面で説明します。

image:appcon_top_other_menu.png[]

.B.メニューコンテンツ
メニューに対するコンテンツを表示します。
Top画面を表示したタイミングでは `Entity設定` が選択されているため、Entity編集画面が表示されます。
Entity編集画面で説明します。

==== Entity編集画面
AppConsoleではEntityの追加や編集、Entity権限の設定を行うことができます。

Entity編集画面は３つの構成になっています。

image:appcon_entity_top.png[]

.A.ツールバー
Entityの新規作成や一覧のリフレッシュ、一覧の絞込みを行う機能です。

.B.カスタムEntity
ユーザーが作成したEntityの一覧が表示されます。 +
一覧から編集したいEntityを選択することで、詳細画面に遷移します。詳細画面で編集や削除することができます。

.C.システムEntity
ユーザーが作成したEntity以外に、ユーザーに公開させたいEntityの一覧が表示されます。 +
一覧から編集したいEntityを選択することで、詳細画面に遷移しますが、編集することはできません。
またユーザーに公開したいEntityは、AdminConsoleで設定することができます。

* 新規登録 +
Entityを新規で登録するには、 `Entityを新規追加` を実行します。
Entityの登録画面が表示されます。
+
新規登録時は、 `A` に記載のように、 `属性の設定` `プロパティの設定` `権限の設定`
の３つのフローを順番に実行していきます。
+
image:appcon_entity_create.png[]

* 編集 +
登録済みのEntityを編集するは、 一覧から対象のEntityを選択します。Entityの詳細画面が表示されます。
詳細画面で `編集` を実行することで編集画面に遷移します。
+
image:appcon_entity_detail.png[]
+
編集画面ではフロー形式ではなく、それぞれのカテゴリごとに編集を行います。
+
image:appcon_entity_edit.png[]

===== Entity属性設定
名前や説明を設定します。

===== プロパティ編集
プロパティの設定画面には、設定されているプロパティの一覧が表示されます。

image:appcon_entity_property.png[]


* 編集 +
プロパティを選択するとプロパティの編集画面が表示されます。
それぞれのカテゴリごとに編集を行います。
+
image:appcon_entity_property_edit.png[]

* 新規追加 +
新規でプロパティを追加する場合は、 ＋ボタンを選択します。<<_プロパティ追加,プロパティの追加画面>>が表示されます。

* 削除 +
プロパティ削除したい場合は、 ゴミ箱ボタンを選択すると、ゴミ箱に移動します。
ゴミ箱から復元したい場合は、 復元ボタンを選択すると、プロパティ定義に再度追加されます。
+
image:appcon_entity_property_delete.png[]
+
NOTE: Entity定義を保存したタイミングでゴミ箱は空になります。

===== プロパティ追加
新規追加時は、 `A` に記載のように、 `型の選択` `属性の設定` `入力制約`
の３つのフローを順番に実行していきます。

image:appcon_entity_property_create.png[]

====== 型の選択画面
プロパティのデータ型を選択します。型を選択すると、`属性の設定` 画面に進みます。

====== プロパティ属性設定画面
名前や説明を設定します。

====== プロパティ入力制約設定画面
入力制約設定画面は、共通的な制約条件を入力する部分と、選択した型に特化した制約を入力する部分に分かれます。

image:appcon_entity_property_validation.png[]

下記は、「テキスト」型の場合の例です。

image:appcon_entity_property_type_validation.png[]

===== Entity権限設定
登録されているロールが一覧で表示されるので、許可する権限を選択します。

image:appcon_entity_permission.png[]


===== EntityMenuItemの追加
Entityを新規で登録する場合は、確認画面が表示されます。

確認画面内の `オプション` の「標準メニューに登録Entityのメニューを追加する」を選択すると、
権限設定で参照を許可したロールに対応するメニュー定義にメニューが追加されます。

image:appcon_entity_confirm.png[]

==== Menu編集画面

AppConsoleでは登録されているロールに対して、メニューの追加や編集を行うことができます。

===== ロール選択

メニューの編集には、まず対象となるロールを選択します。

image:appcon_menu_role.png[]

一覧から、対象のロールを選択します。メニューの詳細画面が表示されます。

* メニュー詳細画面 +
+
image:appcon_menu_detail.png[]
+
メニューがまだ作成されていない場合は、メニュー作成画面が表示されます。
メニューを新規で作成するか、既に登録されているメニューを選択することでコピーした状態から編集することができます。

* メニュー作成画面 +
+
image:appcon_menu_new.png[]

===== メニュー編集

メニュー編集画面は３つの構成になっています。

image:appcon_menu_edit.png[]

.A.ツールバー
アイテムを追加する場合は、＋ボタンを選択します。
その横のボタンは、Bのツリー表示の開閉を行います。

.B.メニューツリー表示部
メニューをツリー構造で表示します。
アイテムを選択するとCの部分にアイテムの詳細が表示されます。

.C.アイテム詳細表示部
Bで選択されたアイテムの詳細を表示します。
移動やツリーからの削除、アイテム自体の削除を行います。
またアイテムを編集する場合は、右上の編集ボタンを選択します。

* アイテムの移動 +
アイテムを移動する場合は、移動先を選択する画面に切り替わります。
+
image:appcon_menu_item_move.png[]

===== アイテム追加

メニュー編集画面で追加を選択するとアイテムの選択画面が表示されます。
登録済みのアイテムを選択するか、新しく作る場合は＋ボタンを選択します。

* メニューアイテム選択画面 +
+
image:appcon_menu_item_select.png[]

* メニューアイテム登録画面 +
+
image:appcon_menu_item_create.png[]

登録済みのアイテムから「ツリーに追加」を選択するか、新規でアイテムを保存すると、
アイテムの追加先選択画面が表示されます。

* メニュー追加先選択画面 +
+
image:appcon_menu_item_add.png[]

