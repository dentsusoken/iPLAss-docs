[[management]]
== TopViewの管理

[[create_topview]]
=== TopViewの作成
AdminConsoleのメニューから `MDC_TopView` を右クリックし、 `TopViewを作成する` を選択します。
表示されたダイアログの `Name` には対応するロールコードを設定してください。

image::images/topview_create.png[]

[[topview_setting]]
=== 設定
左側のドロップ可能領域に対して、右側の `Items` からパーツをドラッグ&ドロップしてパーツの配置/編集を行います。
また、配置したパーツをドロップ可能領域内でドラッグ&ドロップすることで、パーツの順序を変更できます。

image::images/topview_edit.png[]

標準提供するパーツには以下のものがあります。 +
パーツには複数配置可能なものと不可能なものがあり、AdminConsole上でパーツの右側に `(U)` と表示されているパーツは、複数配置することができないUniqueなパーツです。

[cols="1,1,5,1", options="header"]
|===
2+|パーツ名|説明|複数配置可能か

2+|Information List
|お知らせ情報で登録したデータを表示します。|×

2+|Last Login
|最終ログイン日時を表示します。|×


2+|SearchResult List
|選択したエンティティの検索結果一覧を表示します。|○

.2+|Custom Parts
|Script
|GroovyTemplateで記述されたテンプレートを表示します。|○

|Template
|登録済みのテンプレートを表示します。|○

2+|Space
|スペースを表示します。|○

2+|Calendar
|カレンダーを表示します。|○
|===

各パーツのアイコンをクリックすることで、パーツの詳細設定ができます。
ここからは各パーツの詳細設定について説明します。

[[common_setting]]
==== 共通設定項目
各パーツに共通して設定できる項目です。

[cols="1,4a", options="header"]
|===
|設定項目
|設定内容

|列情報
|パーツの表示領域を設定します。 +
列情報の詳細については<<columninfo, 列情報>>を参照してください。
|===

[[columninfo]]
.列情報
MDCはコンテンツのレイアウト設定として全体を12ポイントとするグリッドシステムを利用します。
画面サイズに対するブレークポイントに対して、コンテンツを表示するサイズを設定します。 +
各ブレークポイントは、<<../../../serviceconfig/index.adoc#MdcConfigService, MdcConfigService>>で設定可能です。

[cols="1,4a", options="header"]
|===
|設定項目
|設定内容

|Extra Smallサイズの列数
|画面サイズが600px以下の場合の列数の設定します。（設定範囲は1~12）

|Smallサイズの列数
|画面サイズが600px以上 960px以下の場合の列数の設定します。（設定範囲は1~12）

|Mediumサイズの列数
|画面サイズが960px以上 1264px以下の場合の列数の設定します。（設定範囲は1~12）

|Largeサイズの列数
|画面サイズが1264px以上 1904px以下の場合の列数の設定します。（設定範囲は1~12）

|Extra Largeサイズの列数
|画面サイズが1904px以上の場合の列数の設定します。（設定範囲は1~12）

|===


[[informationlist]]
==== Information List
Top画面でお知らせ一覧を表示するパーツです。パスワード有効期限が近づいてきた際に警告メッセージを表示することも可能です。

[cols="1,2a", options="header"]
|===
|設定項目|設定内容

|Title
|タイトルをカスタマイズしたい場合に指定します。
未設定の場合は `お知らせ情報` と表示されます。

|Icon Tag
|タイトルの前に表示するアイコンを設定できます。 +
link:https://materialdesignicons.com/[Material Design Icons^]のアイコンタグを設定できます。（例:mdi-note）

|Class
|スタイルシートのクラス名を指定します。複数指定する場合は半角スペースで区切ってください。 +
Class と Class (deprecated) の両方が設定されている場合は、Class に指定されたスタイルが優先されます。

|Class (deprecated)
|スタイルシートのクラス名を指定します。複数指定する場合は半角スペースで区切ってください。 +
今後削除予定です。

|Hide Reload Button
|本項目がチェックされている場合、お知らせ情報のリロードボタンを非表示にします。

|Time Display Range
|一覧上の時間部分の表示範囲を指定します。

default:: 日付のみ表示します。
SEC:: 秒まで表示します
MIN:: 分まで表示します。
HOUR:: 時まで表示します。
NONE:: 日付のみ表示します。

|Scroll display number
|お知らせ一覧がスクロール表示となるお知らせ件数の閾値を指定します。 +
未指定の場合は、スクロール表示になりません。

|Enable Html Tag
|本項目がチェックされている場合、お知らせ情報の詳細表示時にHTMLタグが有効になります。

|Information Detail Custom Style
|お知らせ詳細のメッセージ表示部分に対して、直接style属性をGroovyScriptで指定することが可能です。 お知らせ内容によって表示を強調させたい場合などに利用します。

以下のオブジェクトがバインドされています。

====
today:: 現在の日付。 `java.sql.Timestamp` のインスタンス
entity:: 詳細表示中のお知らせ情報エンティティ
====


|Show warning message of the password expiration date
|本項目がチェックされている場合、パスワード有効期間に対する警告メッセージを表示します。

|Remain days threshold
|有効期限の何日前から警告を表示するかの閾値を設定します。

|Custom warning message
|警告メッセージの文言をカスタマイズしたい場合に指定します。

|Custom alert message style
|警告メッセージ表示領域のスタイルをカスタマイズしたい場合に指定します。Vuetify.jsのアラートコンポーネントを使用します。 `info` 、 `warning` 、 `error` 、 `info(outline)` 、 `warning(outline)` 、 `error(outline)` からスタイルを選択可能です。未指定の場合のデフォルトは、 `warning` です。

|Custom alert icon
|警告メッセージ表示領域のアイコンをカスタマイズしたい場合に指定します。
link:https://materialdesignicons.com/[Material Design Icons^]のアイコンタグを設定できます。（例:mdi-alert）
|===

[[lastlogin]]
==== Last Login
Top画面にログイン中のユーザーの最終ログイン日時を表示します。

[cols="1,2a", options="header"]
|===
|設定項目|設定内容

|Class
|スタイルシートのクラス名を指定します。複数指定する場合は半角スペースで区切ってください。 +
Class と Class (deprecated) の両方が設定されている場合は、Class に指定されたスタイルが優先されます。

|Class (deprecated)
|スタイルシートのクラス名を指定します。複数指定する場合は半角スペースで区切ってください。 +
今後削除予定です。
|===

[[searchresultlist]]
==== SearchResult List
Top画面に選択したエンティティの検索結果一覧を表示するパーツです。

[cols="1,2a", options="header"]
|===
|設定項目|設定内容

|Entity
|対象のエンティティを選択します。

|SearchResult List View
|検索結果一覧に適用するSearchViewのView名を指定します。

|Link Action View
|リンクから検索画面に遷移する際に適用するSearchViewのView名を指定します。

|Filter
|検索結果一覧に適用するフィルタ定義を指定します。

|Title
|タイトルをカスタマイズしたい場合に指定します。未指定の場合は、エンティティ名が表示されます。

|Icon Tag
|タイトルの前に表示するアイコンを設定できます。 +
link:https://materialdesignicons.com/[Material Design Icons^]のアイコンタグを設定できます。（例:mdi-note）

|Class
|スタイルシートのクラス名を指定します。複数指定する場合は半角スペースで区切ってください。

|Hide Reload Button
|本項目がチェックされている場合、検索結果一覧のリロードボタンを非表示にします。

|Hide Show Search Screen Button
|本項目がチェックされている場合、「検索画面を表示する」ボタンを非表示にします。

|===

[[treegrid]]
==== TreeGrid
Top画面に選択したツリーグリッドを表示するパーツです。

[cols="1,2a", options="header"]
|===
|設定項目|設定内容

|TreeGrid Name
|対象のツリーグリッドを選択します。

|Title
|タイトルをカスタマイズしたい場合に指定します。未指定の場合は、ツリーグリッドの表示名が表示されます。

|Icon Tag
|タイトルの前に表示するアイコンを設定できます。 +
link:https://materialdesignicons.com/[Material Design Icons^]のアイコンタグを設定できます。（例:mdi-note）

|Class
|スタイルシートのクラス名を指定します。複数指定する場合は半角スペースで区切ってください。
|===

[[calendar]]
==== Calendar
Top画面にカレンダーを表示するパーツです。

[cols="1,2a", options="header"]
|===
|設定項目|設定内容

|Calendar
|対象のカレンダーを選択します。

|Title
|タイトルをカスタマイズしたい場合に指定します。未指定の場合は、カレンダー名が表示されます。

|Icon Tag
|タイトルの前に表示するアイコンを設定できます。 +
link:https://materialdesignicons.com/[Material Design Icons^]のアイコンタグを設定できます。（例:mdi-note）

|Class
|スタイルシートのクラス名を指定します。複数指定する場合は半角スペースで区切ってください。

|Hide Reload Button
|本項目がチェックされている場合、カレンダーのリロードボタンを非表示にします。
|===

[[usertasklist]]
==== UserTask List
Top画面にワークフローでユーザーに割り当てられたタスク一覧を表示するパーツです。

.タスク一覧
タスク一覧画面の表示項目を設定します。

[cols="1,2a", options="header"]
|===
|設定項目|設定内容

|Title
|タイトルをカスタマイズしたい場合に指定します。多言語対応可能です。未設定の場合は `タスク一覧` と表示されます。

|Icon Tag
|タイトルの前に表示するアイコンを設定できます。 +
link:https://materialdesignicons.com/[Material Design Icons^]のアイコンタグを設定できます。（例:mdi-note）

|Class
|スタイルシートのクラス名を指定します。複数指定する場合は半角スペースで区切ってください。

|Tab Settings
|タブの表示を設定します。
カスタマイズ・多言語対応可能です。

Show::
表示するタブを選択します。
Custom Title::
タブのタイトルを変更する場合に指定します。

|Search Limit
|タスク一覧に表示するタスクの件数を設定します。

|hide [Detail] button
|詳細ボタンを非表示にするかを設定します。

|hide [Edit] button
|編集ボタンを非表示にするかを設定します。
必ず詳細画面に遷移させてから編集させたい場合に利用します。

|Detail Button Display name
|詳細ボタンの表示文言を設定します。
カスタマイズ・多言語対応可能です。
未指定の場合は `詳細` です。

|Edit Button Display name
|編集ボタンの表示文言を設定します。
カスタマイズ・多言語対応可能です。
未指定の場合は `編集` です。
また詳細画面から編集画面に遷移する際のボタン名としても利用されます。

|Mark processed assignment as complete.
|未完了のタスクでも、自身の割当が完了すれば完了済みのタスクとして扱うかどうかを設定します。
チェックした場合、`MYタスク` にて自身への割当てが完了済みのタスクは一覧に表示されなくなります。他のユーザが未回答でタスク自体が完了していない場合でも、この設定が適用されます。`完了を含む` を有効にすると、一覧に表示されます。

|Display tasks completed by other assigned people.
|自分以外の人が完了したタスクを表示するかを設定します。
チェックした場合、 `MYタスク` の `完了を含む` が有効な時に、 `自分以外の人が完了したタスクを表示` を選択できるようになります。

|Default Sort Setting
|ソートする項目と種別（昇順、降順）を指定します。

|Target Workflow
|タスク一覧の `作成したタスク` に表示するワークフローを指定します。
未指定の場合、全てのワークフローのユーザータスクが対象になります。
指定した場合、そのタスクに紐づくユーザータスクのみが対象になります。

|Task Queue Select Condition
| `全てのタスク` に表示するキューを取得する際の条件を指定します。
条件を指定した場合、 `全てのタスク` にはタスク一覧で指定したキューか、未指定の場合には選択可能なキューに紐づくタスクのみ表示します。

|Display tasks whose taskQueues is null.
|キューの取得条件を指定した場合に、キューに紐づかないタスクを取得するかを指定します。
チェックした場合、キューが未指定のタスクも取得します。

|Hide the comment input field in task view.
|タスク詳細画面のコメント入力欄の表示・非表示を設定します。
チェックした場合、コメント入力欄が非表示になります。

|Show Properties
|タスク一覧に表示するタスクの項目を指定します。
カスタマイズ・多言語対応可能です。 + 
ユーザータスクカスタムプロパティEntity（mtp.workflow.UserTaskCustomProperty）に定義したプロパティを選択することが出来ます。 + 
ドラッグ&ドロップで順番を入れ替えることでタスク一覧での表示順を変更することが出来ます。
詳細は<<taskviewlistitem, タスク一覧項目>>を参照してください。

Show::
表示する項目を選択します。
Custom Display Name::
一覧項目名を変更する場合に指定します。

|Filter Condition Setting
|フィルター条件に表示する項目を指定します。詳細は<<taskfilterconditionsetting, フィルター条件設定項目>>を参照してください。

|Custom Properties
|タスク一覧に表示するタスク対象Entityの項目を指定します。
詳細は<<taskviewlistcustomitem, 対象Entity設定項目>>を参照してください。
|===

[[taskviewlistitem]]
.タスク一覧項目
タスク一覧画面に表示される項目です。

[cols="1,2", options="header"]
|===
|Property
|一覧画面の項目名

|TaskName
|タスク名

|Status
|タスクステータス

|Priority
|優先度

|Limit
|タスク期限

|AssignmentUser
|担当者

|Workflow
|ワークフロー名

|CreateBy
|依頼者

|CreateDate
|依頼日時

|QueueName
|タスクキュー名

|ユーザータスクカスタムプロパティ
|ユーザータスクカスタムプロパティEntity（mtp.workflow.UserTaskCustomProperty）に定義したプロパティ
|===

[[taskfilterconditionsetting]]
.フィルター条件設定項目
フィルター条件設定項目です。

[cols="1,2a", options="header"]
|===
|設定項目
|設定内容

|Show Filter Condition
|タスク一覧画面のフィルター条件の表示・非表示を設定します。
チェックした場合、フィルター条件が表示されます。

|Custom Filter Title
|フィルター条件のタイトルを変更する場合に指定します。カスタマイズ多言語対応可能です。

|UserTask Property
|UserTaskプロパティ、UserTaskカスタムプロパティが表示されます。
`Show Filter Condition Property` に表示対象のプロパティをドラッグ&ドロップすることでタスク一覧のフィルター条件項目となります。

|Show Filter Condition Property
|スク一覧のフィルター条件に表示する項目です。
`UserTask Property` からドラッグ&ドロップで表示対象を指定します。 +
ドラッグ&ドロップで順番を入れ替えることでフィルター条件の表示順を変更することが出来ます。

Required:: フィルター条件の必須項目にする場合はチェックします。
PropertyEditorSetting:: プロパティエディタを設定することで項目の表示方法をカスタマイズ可能です。
プロパティエディタについて、詳細は<<taskpropertyeditor, フィルター条件プロパティエディタ>>を参照してください。
|===

[[taskpropertyeditor]]
.フィルター条件プロパティエディタ
フィルター条件プロパティエディタは各フィルター条件プロパティの入力表示設定になります。
TOP画面パーツ `タスク一覧フィルター条件設定`の`Show Filter Condition Property` に配置した各プロパティの設定を変更をすることができます。 +
フィルター条件設定について、詳細は<<taskfilterconditionsetting, フィルター条件設定項目>>を参照してください。

[[taskpropertyeditorcommon]]
.共通設定項目
各プロパティエディタで共通の設定項目です。
[cols="1,1,8a", options="header"]
|===
|設定項目
|表示タイプ
|設定内容

|入力カスタムスタイル
|
|各プロパティのinput要素に対して、直接style属性を指定することが可能です。 
例えば入力用のinputの幅を調整したい場合などに利用します。
詳細は<<inputcustomstyle_pe, 入力カスタムスタイル>>を参照してください。
|===

[[inputcustomstyle_pe]]
.入力カスタムスタイル
GroovyTemplate書式で設定します。
以下の値がバインドされます。
====
.基本変数
request:: リクエスト
session:: セッション
====
====
.個別変数
today:: 現在日時(java.sql.Timestamp)
====

.設定例
[source,groovy]
----
<% //入力テキストの幅を100pxに、背景色を赤に変更
%>
background-color:#FFCCCC; width:100px;
----

Editorの表示タイプが選択可能な場合、タイプによって適用されるinputが異なります。
====
TEXT:: `.mdc-input-field` に対して指定したスタイルを適用します。
SELECT:: `.mdc-select-field` に対して指定したスタイルを適用します。
RADIO:: radioを囲む `.mdc-radio-group` に対して指定したスタイルを適用します。
CHECKBOX:: checkboxを囲む `.mdc-checkbox-group` に対して指定したスタイルを適用します。
====

[[taskpropertyeditorautonumber]]
.AutoNumberPropertyEditor
フィルター条件のAutoNumber型用のプロパティエディタです。
[cols="1,1,6a", options="header"]
|===
|設定項目
|表示タイプ
|設定内容

|表示タイプ
|TEXT
|画面に表示する方法を下記から選択します。

TEXT:: テキストフィールドを表示

|完全一致で検索
|TEXT
|検索画面での検索処理時に完全一致検索とする場合はチェックを入れます。

|検索条件入力カスタムスタイル
|TEXT
|<<taskpropertyeditorcommon, 共通設定項目>>を参照してください。
|===

[[taskpropertyeditorbinary]]
.BinaryPropertyEditor
フィルター条件のBinary型用のプロパティエディタです。
[cols="1,1,6a", options="header"]
|===
|設定項目
|表示タイプ
|設定内容

|表示タイプ
|
|画面に表示する方法を設定します。

TEXT:: テキストフィールドを表示（名前検索）

|検索条件入力カスタムスタイル
|TEXT
|<<taskpropertyeditorcommon, 共通設定項目>>を参照してください。
|===

[[taskpropertyeditorboolean]]
.BooleanPropertyEditor
フィルター条件のBoolean型用のプロパティエディタです。
[cols="1,1,6a", options="header"]
|===
|設定項目
|表示タイプ
|設定内容

|表示タイプ
|
|画面に表示する方法を下記から選択します。

RADIO:: ラジオボタンを表示
CHECKBOX:: チェックボックスを表示
SELECT:: 選択リストを表示

|真の表示ラベル
|RADIO +
CHECKBOX +
SELECT
|真の選択肢に表示するラベルを設定します。

|偽の表示ラベル
|RADIO +
CHECKBOX +
SELECT
|偽の選択肢に表示するラベルを設定します。

|RADIO、CHECKBOX形式の場合にアイテムを横に並べる
|RADIO +
CHECKBOX
|チェックした場合、RADIO、CHECKBOX形式のアイテムを横に並べるかを指定します。

|「値なし」を検索条件の選択肢に追加するか
|RADIO +
CHECKBOX +
SELECT
|「値なし」を検索条件の選択肢に追加するかを指定します。値なしが選択された場合、IS NULLを検索条件として指定します。

NOTE: 「値なし」を選択する場合、値として「isNull」が使用されるため、他の選択肢にはこのキーワードを値として使用しないでください。

|検索条件入力カスタムスタイル
|RADIO +
CHECKBOX +
SELECT
|<<taskpropertyeditorcommon, 共通設定項目>>を参照してください。
|===

[[taskpropertyeditordate]]
.DatePropertyEditor
フィルター条件のDate型用のプロパティエディタです。
[cols="1,1,6a", options="header"]
|===
|設定項目
|表示タイプ
|設定内容

|表示タイプ
|
|画面に表示する方法を下記から選択します。

TEXT:: 日付入力フィールドを表示

|範囲検索
|TEXT
|チェックした場合、日付の検索を範囲指定で行います。

|検索条件入力カスタムスタイル
|TEXT
|<<taskpropertyeditorcommon, 共通設定項目>>を参照してください。
|===

[[taskpropertyeditordecimal]]
.DecimalPropertyEditor
フィルター条件のDecimal型用のプロパティエディタです。
[cols="1,1,6a", options="header"]
|===
|設定項目
|表示タイプ
|設定内容

|表示タイプ
|
|画面に表示する方法を下記から選択します。

TEXT:: 数値入力フィールドを表示

|カンマ表示
|TEXT
|テキストフィールドからフォーカスアウトした際に入力値をカンマ区切りで表示します。

|範囲検索
|TEXT
|チェックした場合、数値の検索を範囲指定で行います。

|検索条件入力カスタムスタイル
|TEXT
|<<taskpropertyeditorcommon, 共通設定項目>>を参照してください。
|===

[[taskpropertyeditorexpression]]
.ExpressionPropertyEditor
フィルター条件のExpression型用のプロパティエディタです。
[cols="1,1,6a", options="header"]
|===
|設定項目
|表示タイプ
|設定内容

|表示タイプ
|
|画面に表示する方法を下記から選択します。

LABEL:: プロパティエディタの項目で設定された表示タイプの表示内容を表示

|プロパティエディタ
|
|プロパティエディタを設定します。
ExpressionプロパティのResultTypeに設定されている内容に合わせて設定してください。
設定した場合、そのEditor設定にあわせて画面表示を行います。
未設定の場合は、値を文字列として表示します。

|検索条件入力カスタムスタイル
|
|プロパティエディタの項目が未設定の場合、こちらで入力されたスタイルが適用されます。 +
詳細は<<taskpropertyeditorcommon, 共通設定項目>>を参照してください。
|===

[[taskpropertyeditorfloat]]
.FloatPropertyEditor
フィルター条件のFloat型用のプロパティエディタです。
[cols="1,1,6a", options="header"]
|===
|設定項目
|表示タイプ
|設定内容

|表示タイプ
|
|画面に表示する方法を下記から選択します。

TEXT:: 数値入力フィールドを表示

|カンマ表示
|TEXT
|テキストフィールドからフォーカスアウトした際に入力値をカンマ区切りで表示します。

|範囲検索
|TEXT
|チェックした場合、数値の検索を範囲指定で行います。

|検索条件入力カスタムスタイル
|TEXT
|<<taskpropertyeditorcommon, 共通設定項目>>を参照してください。
|===

[[taskpropertyeditorinteger]]
.IntegerPropertyEditor
フィルター条件のInteger型用のプロパティエディタです。
[cols="1,1,6a", options="header"]
|===
|設定項目
|表示タイプ
|設定内容

|表示タイプ
|
|画面に表示する方法を下記から選択します。

TEXT:: 数値入力フィールドを表示

|カンマ表示
|TEXT
|テキストフィールドからフォーカスアウトした際に入力値をカンマ区切りで表示します。

|範囲検索
|TEXT
|チェックした場合、数値の検索を範囲指定で行います。

|検索条件入力カスタムスタイル
|TEXT
|<<taskpropertyeditorcommon, 共通設定項目>>を参照してください。
|===

[[taskpropertyeditorreference]]
.ReferencePropertyEditor
フィルター条件のReference型用のプロパティエディタです。
[cols="1,1,6a", options="header"]
|===
|設定項目
|表示タイプ
|設定内容

|表示タイプ
|
|画面に表示する方法を下記から選択します。

TEXT:: テキストフィールドを表示
LINK:: 選択ボタンを表示
SELECT:: 選択リストを表示
CHECKBOX:: チェックボックスを表示

|表示ラベルとして扱うプロパティ
|LINK +
SELECT +
CHECKBOX
|表示ラベルとして扱うプロパティを設定します。
`name` 以外のプロパティを画面にラベルとして表示できます。
`StringProperty` にのみ適用されます。それ以外のプロパティを指定すると、正常に表示されません。

|検索条件で単一選択にするか
|LINK
|チェックした場合、検索画面での条件指定時に、選択画面でのレコード選択方法を複数選択から単一選択に変更します。

|検索条件での全選択を許可するか
|LINK
|チェックした場合、参照先の選択画面で複数選択が可能な場合、全選択時の範囲を選択します。

チェックあり:: 検索条件に一致する全てのデータ(前後のページを含む) が対象
チェックなし:: 現在のページの全てのデータが対象

|CHECKBOX形式の場合にアイテムを横に並べる
|CHECKBOX
|チェックした場合、CHECKBOX形式のアイテムを横に並べるかを指定します。

|「値なし」を検索条件の選択肢に追加するか
|SELECT +
CHECKBOX
|「値なし」を検索条件の選択肢に追加するかを指定します。値なしが選択された場合、IS NULLを検索条件として指定します。

NOTE: 「値なし」を選択する場合、値として「isNull」が使用されるため、他の選択肢にはこのキーワードを値として使用しないでください。

|参照先のViewName
|LINK
|参照先エンティティのView定義名を設定します。
未指定の場合はデフォルトのView定義を使用します。

|選択画面パラメータ生成スクリプト
|LINK
|選択画面に渡すカスタムパラメータをGroovyScript形式で記述します。
バインドされている `paramMap` に対して、

====
key:: sc_プロパティ名
value:: 検索条件とする値
====

として値を設定すると、選択画面の初期検索条件として設定されます。

.独自のバインド変数
独自に以下の変数がバインドされています。
====
paramMap:: Map<String, String>
====

|選択画面カスタムパラメータJavaScript
|LINK
|選択画面に渡すパラメータをカスタマイズするJavascriptを記述します。
JavaScriptのパラメータとして渡される `parameter` オブジェクトに対して、

====
key:: sc_プロパティ名
value:: 検索条件とする値
====

として値を設定すると、選択画面の初期検索条件として設定されます。
パラメータには、 `選択画面パラメータ生成スクリプト` で設定された値が予め指定されています。

.JavaScriptの変数
JavaScriptには、以下の変数がバインドされます。
====
parameter:: 送信するパラメータオブジェクト
propertyName:: プロパティ名
====

|検索条件
|SELECT +
CHECKBOX
|選択可能項目を検索する際の条件に依存しない検索条件を設定します。

|ソートアイテム
|SELECT +
CHECKBOX
|プルダウンの参照データをソートする項目を指定します。

|ソート種別
|SELECT +
CHECKBOX
|プルダウンの参照データをソートする順序を指定します。

|検索条件入力カスタムスタイル
|TEXT +
SELECT +
CHECKBOX
|<<taskpropertyeditorcommon, 共通設定項目>>を参照してください。
|===

[[taskpropertyeditorselect]]
.SelectPropertyEditor
フィルター条件のSelect型用のプロパティエディタです。
[cols="1,1,6a", options="header"]
|===
|設定項目
|表示タイプ
|設定内容

|表示タイプ
|
|画面に表示する方法を下記から選択します。

RADIO:: ラジオボタンを表示
CHECKBOX:: チェックボックスを表示
SELECT:: 選択リストを表示

|選択値
|
|選択値を指定できます。詳細は<<taskpropertyeditoreditorvalue, 選択値設定>>を参照してください。未指定の場合、エンティティ定義から選択値を取得します。 +
選択された選択肢の値を条件として完全一致で検索します。 +
画面個別に選択値をカスタマイズしたい場合に設定してください。

|RADIO、CHECKBOX形式の場合にアイテムを横に並べる
|RADIO +
CHECKBOX
|チェックした場合、RADIO、CHECKBOX形式のアイテムを横に並べるかを指定します。

|「値なし」を検索条件の選択肢に追加するか
|RADIO +
CHECKBOX +
SELECT
|「値なし」を検索条件の選択肢に追加するかを指定します。値なしが選択された場合、IS NULLを検索条件として指定します。

NOTE: 「値なし」を選択する場合、値として「isNull」が使用されるため、他の選択肢にはこのキーワードを値として使用しないでください。

|検索条件入力カスタムスタイル
|RADIO +
CHECKBOX +
SELECT
|<<taskpropertyeditorcommon, 共通設定項目>>を参照してください。
|===

[[taskpropertyeditorstring]]
.StringPropertyEditor
フィルター条件のString型用のプロパティエディタです。
[cols="1,1,6a", options="header"]
|===
|設定項目
|表示タイプ
|設定内容

|表示タイプ
|
|画面に表示する方法を下記から選択します。

TEXT:: テキストフィールドを表示
SELECT:: 選択リストを表示

|範囲で検索
|TEXT +
SELECT
|チェックした場合、通常検索（検索一覧の検索タブ）の検索条件でFromToの入力フィールドを表示し、範囲検索を行います。

.範囲検索がONの場合
表示タイプが `SELECT` の場合でも、 `TEXT` の場合と同様にテキストフィールドが表示されます。 + 
また、 `検索条件完全一致設定` の状態に関係なく、検索条件は以下のようになります。 +
From、To入力時(入力string値数字を含まれている場合) → `プロパティ between From入力値 and To入力値` +
Fromのみ入力時(入力string値数字を含まれている場合) → `プロパティ &ge; From入力値` +
Toのみ入力時(入力string値数字を含まれている場合) → `プロパティ &le; To入力値`


|検索条件完全一致設定
|TEXT
|チェックした場合、検索画面で条件を設定した時に完全一致で検索します。
表示タイプが `SELECT` の場合は、当該項目に関係なく、完全一致検索を行います。

|「値なし」を検索条件の選択肢に追加するか
|SELECT
|「値なし」を検索条件の選択肢に追加するかを指定します。値なしが選択された場合、IS NULLを検索条件として指定します。

NOTE: 「値なし」を選択する場合、値として「isNull」が使用されるため、他の選択肢にはこのキーワードを値として使用しないでください。

|選択値
|SELECT
|選択値を指定できます。詳細は<<taskpropertyeditoreditorvalue, 選択値設定>>を参照してください。 +
選択された選択肢の値を条件として完全一致で検索します。 +
String型のプロパティとして値を保持するが、入力値を固定させたいような場合に利用します。

|検索条件入力カスタムスタイル
|TEXT +
SELECT
|<<taskpropertyeditorcommon, 共通設定項目>>を参照してください。
|===

[[taskpropertyeditoreditorvalue]]
.選択値設定
選択値を設定します。

[cols="1,8a", options="header"]
|===
|設定項目
|設定内容

|表示名
|選択肢のラベルを設定します。

|値
|選択肢の値を設定します。

|CSSクラス名
|スタイルシートのクラス名を指定します。
複数指定する場合は半角スペースで区切って下さい。
|===

[[taskpropertyeditortime]]
.TimePropertyEditor
フィルター条件のTime型用のプロパティエディタです。
[cols="1,1,6a", options="header"]
|===
|設定項目
|表示タイプ
|設定内容

|表示タイプ
|
|画面に表示する方法を下記から選択します。

TEXT:: 時刻入力フィールドを表示

|時間の表示範囲
|TEXT
|時間の各リストをどこまで表示するか設定します。 +
フォーマットが指定されている場合はフォーマットを優先します。
未指定の場合秒まで表示します。

SEC:: 秒まで表示
MIN:: 分まで表示
HOUR:: 時まで表示
NONE:: 非表示

|分の入力間隔
|TEXT
|秒まで表示する場合は無効になります。

MIN1:: 1分毎に表示
MIN5:: 5分毎に表示
MIN10:: 10分毎に表示
MIN15:: 15分毎に表示
MIN30:: 30分毎に表示

|分の端数処理モード
|TEXT
|分の端数処理方法を設定します。pickerなどで入力された値を分の間隔で端数制御します。

UP:: 0から離れるようにする
DOWN:: 0に近づける
NONE:: 制御しない

|範囲検索
|TEXT
|チェックした場合、時刻の検索を範囲指定で行います。

|検索条件入力カスタムスタイル
|TEXT
|<<taskpropertyeditorcommon, 共通設定項目>>を参照してください。
|===

[[taskpropertyeditortimestamp]]
.TimestampPropertyEditor
フィルター条件のTimestamp型用のプロパティエディタです。
[cols="1,1,6a", options="header"]
|===
|設定項目
|表示タイプ
|設定内容

|表示タイプ
|
|画面に表示する方法を下記から選択します。

TEXT:: 日付時刻入力フィールドを表示

|時間の表示範囲
|TEXT
|時間の各リストをどこまで表示するか設定します。 +
フォーマットが指定されている場合はフォーマットを優先します。
未指定の場合秒まで表示します。

SEC:: 秒まで表示
MIN:: 分まで表示
HOUR:: 時まで表示
NONE:: 非表示

|分の入力間隔
|TEXT
|秒まで表示する場合は無効になります。

MIN1:: 1分毎に表示
MIN5:: 5分毎に表示
MIN10:: 10分毎に表示
MIN15:: 15分毎に表示
MIN30:: 30分毎に表示

|分の端数処理モード
|TEXT
|分の端数処理方法を設定します。pickerなどで入力された値を分の間隔で端数制御します。

UP:: 0から離れるようにする
DOWN:: 0に近づける
NONE:: 制御しない

|範囲検索
|TEXT
|チェックした場合、日付時刻の検索を範囲指定で行います。

|検索条件入力カスタムスタイル
|TEXT
|<<taskpropertyeditorcommon, 共通設定項目>>を参照してください。
|===

[[taskpropertyeditoruser]]
.UserPropertyEditor
フィルター条件で `createBy` や `updateBy` 等、Userエンティティの `oid` （String）を持つプロパティに対して、oidの代わりにユーザー名（name）で検索するためのプロパティエディタです。
[cols="1,1,6a", options="header"]
|===
|設定項目
|表示タイプ
|設定内容

|表示タイプ
|
|画面に表示する方法を下記から選択します。

TEXT:: テキストフィールドを表示

|検索条件入力カスタムスタイル
|TEXT
|<<taskpropertyeditorcommon, 共通設定項目>>を参照してください。
|===

[[taskviewlistcustomitem]]
.対象Entity設定項目
タスク一覧画面に表示する対象Entity設定項目です。

[cols="1,2a", options="header"]
|===
|設定項目|設定内容

|Workflow
|タスク一覧に変数の項目を表示する場合に、対象となるワークフローを選択します。

|Variable
|タスク一覧に変数の項目を表示する場合に、対象となる変数を選択します。

|Entity
|タスク一覧に変数の項目を表示する場合に、対象となるEntityを選択します。

|Entity Property
| `Entity` で選択したEntityのプロパティが表示されます。
`Custom Property` に表示対象のプロパティをドラッグ&ドロップすることでタスク一覧の表示項目となります。

|Custom Property
| `Variable` で選択した変数に `Entity` で選択したEntityが設定された場合にタスク一覧に表示する項目です。
`Entity Property` からドラッグ&ドロップで表示対象を指定します。
カスタマイズ・多言語対応可能です。
|===

.タスク詳細
タスク詳細画面の表示項目を設定します。

[cols="1,2a", options="header"]
|===
|設定項目
|設定内容

|Task Target Section
|タスク対象データセクションの表示を設定します。
カスタマイズ・多言語対応可能です。

Show Section ::
セクションを表示するかを選択します。
Custom Title ::
セクションのタイトルを変更する場合に指定します。

Variable Entity View Names ::
リンクまたはタスク詳細内で表示するタスク対象データの表示設定を行います。
詳細は<<variableentityviewname, Variable Entity View Name>>を参照してください。

|Detail Section
|詳細情報セクションの表示を設定します。
カスタマイズ・多言語対応可能です。

Show Section ::
セクションを表示するかを選択します。
Custom Title ::
セクションのタイトルを変更する場合に指定します。

Section Properties ::
セクション内で表示する項目の表示設定を行います。
詳細は<<taskviewdetailitem, タスク詳細項目>>を参照してください。

|Processing result of the user assignment Section
|割当ユーザーの処理結果セクションの表示を設定します。
カスタマイズ・多言語対応可能です。

Show Section ::
セクションを表示するかを選択します。
Custom Title ::
セクションのタイトルを変更する場合に指定します。

Section Properties ::
セクション内で表示する項目の表示設定を行います。
詳細は<<taskviewdetailitem, タスク詳細項目>>を参照してください。

|Workflow History Section
|ワークフロー履歴セクションの表示を設定します。
カスタマイズ・多言語対応可能です。

Show Section ::
セクションを表示するかを選択します。
Custom Title ::
セクションのタイトルを変更する場合に指定します。
Display only the user who processed the tasks ::
ワークフロー履歴の詳細にタスクを完了させた人のみ表示するかを設定します。
Display all history including parent process ::
`親プロセスを含めた全履歴を表示する` チェックボックスを表示するかを設定します。
Display all history including parent process in initial view ::
ワークフロー履歴初期表示時に親プロセスを含めた全履歴を表示するかを設定します。
Section Properties ::
セクション内で表示する項目の表示設定を行います。
詳細は<<taskviewdetailitem, タスク詳細項目>>を参照してください。
|===

[[taskviewdetailitem]]
.タスク詳細項目
タスク詳細画面のセクション内に表示される項目を設定します。
カスタマイズ・多言語対応可能です。

[cols="1,2a", options="header"]
|===
|設定項目
|設定内容

|Show
|項目の表示を設定します。

|Custom Title
|項目のタイトルを変更する場合に指定します。
|===

タスク詳細画面に表示される項目です。
[cols="1,2,2", options="header"]
|===
|Section
|Property
|詳細画面の項目名

|Detail
|Status
|詳細情報 - ステータス

|Detail
|Workflow
|詳細情報 - ワークフロー名

|Detail
|Workflow Status
|詳細情報 - ワークフロー状態

|Detail
|Task Result
|詳細情報 - 処理結果

|Detail
|QueueName
|詳細情報 - タスクキュー名

|Detail
|CompletionDate
|詳細情報 - 完了日

|Processing result of the user assignment
|User
|割当ユーザーの処理結果 - ユーザー

|Processing result of the user assignment
|Task
|割当ユーザーの処理結果 - 処理結果

|Processing result of the user assignment
|Assign State
|割当ユーザーの処理結果 - アサイン状態

|Processing result of the user assignment
|CompletionDate
|割当ユーザーの処理結果 - 完了日

|Processing result of the user assignment
|Comment
|割当ユーザーの処理結果 - コメント

|Workflow History
|Process Name
|ワークフロー履歴 - 処理名

|Workflow History
|Task Status
|ワークフロー履歴 - ステータス

|Workflow History
|Task Result
|ワークフロー履歴 - 処理結果

|Workflow History
|ProcessBy
|ワークフロー履歴 - プロセス実行者

|Workflow History
|CompletionDate
|ワークフロー履歴 - 完了日

|Workflow History
|Detail
|ワークフロー履歴 - 詳細
|===

[[variableentityviewname]]
.Variable Entity View Name
タスク詳細内でタスク対象データを表示する際の設定を行います。
`Display in Detail` をチェックした場合、Entityの詳細画面をタスク詳細内に表示します。
未チェックの場合はリンクで表示され、リンククリックでEntityの詳細画面を表示します。

[cols="1,2a", options="header"]
|===
|設定項目
|設定内容

|Workflow
|表示設定を行うワークフローを選択します。

|Variable
|表示設定を行う変数を選択します。

|Entity
|表示設定を行うEntityを選択します。

|Entity View Name
|上記で選択したワークフロー、変数、Entityが一致するタスク対象データに使用するビュー名を設定します。
タスク詳細からのリンク、タスク詳細内での表示を行う際に利用されます。
※GroovyTemplate書式で記述してください。

|Display in Detail
|タスク詳細にEntityを表示する場合にチェックします。
|===

[[space]]
==== Space
Top画面にスペースを表示するパーツです。

[cols="1,2a", options="header"]
|===
|設定項目|設定内容

|Class
|スタイルシートのクラス名を指定します。複数指定する場合は半角スペースで区切ってください。
|===


[[script]]
==== Script
Top画面にGroovyTemplateで記述されたテンプレートを表示します。 +
HTMLやスクリプト、Vue.jsのSFC形式（単一ファイルコンポーネント形式）などでテンプレートを記述できます。 +
テンプレートの実装方法の詳細については、link:../../../storybook/index.html?path=/docs/開発者ドキュメント-オリジナルテンプレート[コンポーネントカタログ^]を参照してください。

[cols="1,2a", options="header"]
|===
|設定項目|設定内容
|Template Interpret Type
|記述されたテンプレート文字列の解釈タイプです。以下の３つから選択できます。

HTML:: HTMLとして解釈します。HTMLやスクリプトの記述が可能です。
VUE_SFC:: Vue.jsのSFC形式（単一ファイルコンポーネント形式）で記述されたコンポーネントとして解釈します。
VUE_SFC_LIKE:: Vue.jsのランタイムを用いてコンポーネントとして解釈します。MDCでは、Vue.jsのランタイムに加えてコンパイラもバンドルしており、Vue.jsのテンプレート構文を利用することが可能です。

|ComponentName
|コンポーネント名を設定します。 コンポーネント名は、英文字とハイフン(-)のみを利用したパスカルケースでの命名を推奨します。
`Template Interpret Type` が `VUE_SFC_LIKE` の場合、コンポーネント名の指定は必須です。 `Template Interpret Type` が `VUE_SFC` でコンポーネント名が未入力の場合、自動でランダムなコンポーネント名を割り当てます。

|Script
|スクリプト編集画面を表示してGroovyTemplateの文法に従って記述します。
詳細は<<../../customizing/index.adoc#groovytemplate, GroovyTemplate>>を参照してください。

|Precompile VUE_SFC format template
|Vue.jsのSFC形式のテンプレートをプリコンパイルするかを指定します。`Template Interpret Type` が `VUE_SFC` であり、Vue.jsのSFC形式のテンプレートを定義保存時にプリコンパイルしておきたい場合にチェックします。プリコンパイルしておくことで、コンポーネントの初期化処理を高速化できます。

[NOTE]
====
プリコンパイルの注意点::
- プリコンパイルを実行したい場合には、 `ComponentName` の指定が必須となります。
- `Script` に記述したGroovyTemplateは、TopView定義保存時に実行されてプリコンパイルされるため、リクエスト情報やセッション情報、ユーザー固有情報などを使用しないように注意してください。
====
|===

.VUE_SFC形式、VUE_SFC_LIKE形式の場合のコンポーネントとのデータ受け渡し（props/emit）

以下のデータがpropsとしてコンポーネントに引き渡されます。
====
contextMap:: コンテキストマップ。リアクティブな空のMapオブジェクト。 +
コンテキストマップにデータを格納することで、複数のパーツ（コンポーネント）間でリアクティブにデータを共有することが可能です。
====

[[template]]
==== Template
Top画面に登録済みのテンプレートを表示します。 +
テンプレートの実装方法の詳細については、link:../../../storybook/index.html?path=/docs/開発者ドキュメント-オリジナルテンプレート[コンポーネントカタログ^]を参照してください。

[cols="1,2a", options="header"]
|===
|設定項目|設定内容

|Template Interpret Type
|テンプレートの解釈タイプです。以下の３つから選択できます。

HTML:: HTMLとして解釈します。HTMLやスクリプトの記述が可能です。
VUE_SFC:: Vue.jsのSFC形式（単一ファイルコンポーネント形式）で記述されたコンポーネントとして解釈します。
VUE_SFC_LIKE:: Vue.jsのランタイムを用いてコンポーネントとして解釈します。MDCでは、Vue.jsのランタイムに加えてコンパイラもバンドルしており、Vue.jsのテンプレート構文を利用することが可能です。

|ComponentName
|コンポーネント名を設定します。 コンポーネント名は、英文字とハイフン(-)のみを利用したパスカルケースでの命名を推奨します。
`Template Interpret Type` が `VUE_SFC_LIKE` の場合、コンポーネント名の指定は必須です。 `Template Interpret Type` が `VUE_SFC` でコンポーネント名が未入力の場合、自動でランダムなコンポーネント名を割り当てます。

|Template
|登録済みのテンプレートを選択します。

|Precompile VUE_SFC format template
|Vue.jsのSFC形式のテンプレートをプリコンパイルするかを指定します。`Template Interpret Type` が `VUE_SFC` であり、Vue.jsのSFC形式のテンプレートを定義保存時にプリコンパイルしておきたい場合にチェックします。プリコンパイルしておくことで、コンポーネントの初期化処理を高速化できます。

[NOTE]
====
プリコンパイルの注意点::
- プリコンパイルを実行したい場合には、 `ComponentName` の指定が必須となります。
- `Template` で指定した登録済みのテンプレートは、TopView定義保存時に実行されてプリコンパイルされるため、テンプレートの内容が変更された場合は再度TopView定義を保存する必要があります。また、JSPやGroovyTemplateなどで記述されたテンプレートには、リクエスト情報やセッション情報、ユーザー固有情報などを使用しないように注意してください。
====
|===

.VUE_SFC形式、VUE_SFC_LIKE形式の場合のコンポーネントとのデータ受け渡し（props/emit）

以下のデータがpropsとしてコンポーネントに引き渡されます。
====
contextMap:: コンテキストマップ。リアクティブな空のMapオブジェクト。 +
コンテキストマップにデータを格納することで、複数のパーツ（コンポーネント）間でリアクティブにデータを共有することが可能です。
====