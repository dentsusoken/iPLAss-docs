[[AdminConsoleService]]
=== AdminConsoleService
AdminConsoleService全般のサービスです。

==== インタフェース名
----
org.iplass.adminconsole.server.base.service.AdminConsoleService
----

==== 実装クラス名
----
org.iplass.adminconsole.server.base.service.AdminConsoleService
----

==== AdminConsoleServiceの設定
AdminConsoleServiceを設定します。

===== 設定項目
[cols="1,1,3", options="header"]
|===
| 項目 | 値 | 説明
| showServerInfo | boolean | AdminConsole上で環境情報としてサーバ情報を表示するか
| logDownloadConfig | <<LogConfig>> | アプリケーションログのダウンロード設定
| maxUploadFileSize | long | AdminConsoleでのファイルアップロード時のサイズ上限(byte)。デフォルトは1GByteです。
|===

[[LogConfig]]
.LogConfig
classはorg.iplass.adminconsole.server.base.service.LogConfigを指定します。

LogExplorerからサーバに出力されたログをダウンロードするための設定です。
以下の項目を設定可能です。
[cols="1,1,3", options="header"]
|===
| 項目 | 値 | 説明
| enabled | boolean | ログファイルのダウンロードを有効にするか
| logHome | String、複数指定可 | ログファイルの格納フォルダ
| fileFilter | String、複数指定可 | LogExplorerに表示するファイル名のフィルタ、正規表現で指定
|===

===== 設定例
[source,xml]
----
<service>
	<interface>org.iplass.adminconsole.server.base.service.AdminConsoleService</interface>

	<!-- AdminConsole上で環境情報としてサーバ情報を表示するか -->
	<property name ="showServerInfo" value="true" />

	<!-- AdminConsoleで参照可能なログの設定 -->
	<property name="logDownloadConfig" class="org.iplass.adminconsole.server.base.service.LogConfig">
		<property name="enabled" value="true" />

		<!--
			ログファイルの格納フォルダを指定
			${tenantId}:テナントID
			${tenantName}:テナント名
			*:任意のフォルダ名

			例1：/logs/${tenantId}/
				/logs/フォルダ直下にテナントIDのフォルダがあり、それ以降にテナントごとのログがある。

			例2：/logs/*/${tenantId}/
				/logs/フォルダ直下に任意のフォルダがあり、その下にテナントIDのフォルダ、それ以降にテナントごとのログがある。
				例えば、複数サーバのログを/logs/ap1/、/logs/ap2/などに配置している場合。
		-->
		<property name="logHome" value="/logs/${tenantId}/" />

		<!--
			ファイル名に対するFilterを指定(正規表現)

			例：.*app\.log.* (== *app.log*)
		-->
		<property name="fileFilter" value=".*app\.log.*" />
	</property>
	
	<!-- ファイルアップロード時のMAXファイルサイズ(Byte) -->
	<!--
	<property name ="maxUploadFileSize" value="1073741824" />
	-->
	
</service>
----
